[
    {
        "expected": {},
        "track": [
            "people"
        ],
        "next": [
            {
                "track": [
                    "humans"
                ],
                "expected": [],
                "uniqs": [
                    "id",
                    "name"
                ],
                "next": [
                    {
                        "level": 20,
                        "action": "addHuman",
                        "title": "Добавлен новый участник $name",
                        "method": "push",
                        "value": {
                            "id": "{id}",
                            "name": "{name}",
                            "notes": "{?notes}",
                            "ufp1": "{?ufp1}",
                            "ufp2": "{?ufp2}",
                            "isMan": "{isMan}",
                            "bDay": "{bDay}",
                            "group": "{group}",
                            "isInactive": "{?isInactive}"
                        },
                        "args": {
                            "id": "#String",
                            "name": "#String",
                            "notes": "#string",
                            "ufp1": "#number",
                            "ufp2": "#number",
                            "bDay": "#Number",
                            "group": "#Number",
                            "isMan": "#Boolean",
                            "isInactive": "#boolean"
                        }
                    },
                    {
                        "level": 20,
                        "action": "addManyHumans",
                        "title": "Добавлено несколько участников",
                        "method": "concat",
                        "args": {
                            "value": "#List"
                        }
                    },
                    {
                        "track": [
                            [
                                "id",
                                "===",
                                "{id}"
                            ]
                        ],
                        "next": [
                            {
                                "level": 20,
                                "track": [
                                    "name"
                                ],
                                "action": "setHumanName",
                                "title": "Изменено имя участника \"$prev\" на \"$value\"",
                                "method": "set",
                                "args": {
                                    "value": "#String"
                                }
                            },
                            {
                                "level": 20,
                                "track": [
                                    "ufp1"
                                ],
                                "action": "setHumanUfp1",
                                "title": "Изменено значение Уровня физ. подготовки (1) участника \"$humann\"",
                                "method": "set",
                                "args": {
                                    "value": "#Number",
                                    "humann": "#String"
                                }
                            },
                            {
                                "level": 20,
                                "track": [
                                    "ufp2"
                                ],
                                "action": "setHumanUfp2",
                                "title": "Изменено значение Уровня физ. подготовки (2) участника \"$humann\"",
                                "method": "set",
                                "args": {
                                    "value": "#Number",
                                    "humann": "#String"
                                }
                            },
                            {
                                "level": 20,
                                "track": [
                                    "isMan"
                                ],
                                "action": "setHumanIsMan",
                                "title": "Изменено значение пола участника \"$humann\"",
                                "method": "set",
                                "args": {
                                    "value": "#Boolean",
                                    "humann": "#String"
                                }
                            },
                            {
                                "level": 20,
                                "track": [
                                    "notes"
                                ],
                                "action": "setHumanNotes",
                                "title": "Изменена заметка участника \"$humann\"",
                                "method": "set",
                                "args": {
                                    "value": "#String",
                                    "humann": "#String"
                                }
                            },
                            {
                                "level": 20,
                                "track": [
                                    "bDay"
                                ],
                                "action": "setHumanBDay",
                                "title": "Изменена дата рождения \"$humann\"",
                                "method": "set",
                                "args": {
                                    "value": "#Number",
                                    "humann": "#String"
                                }
                            },
                            {
                                "level": 20,
                                "track": [
                                    "group"
                                ],
                                "action": "setHumanGroup",
                                "title": "Изменена группа \"$humann\"",
                                "method": "set",
                                "args": {
                                    "value": "#Number",
                                    "humann": "#String"
                                }
                            },
                            {
                                "level": 20,
                                "track": [
                                    "isInactive"
                                ],
                                "action": "setHumanInactive",
                                "title": "Участник \"$humann\" исключён",
                                "method": "set",
                                "args": {
                                    "value": "#Boolean",
                                    "humann": "#String"
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "track": [
            "games"
        ],
        "expected": {},
        "next": [
            {
                "track": [
                    "teamGames"
                ],
                "expected": [],
                "next": [
                    {
                        "uniqs": [
                            "w"
                        ],
                        "level": 30,
                        "action": "addTeamGame",
                        "title": "Добавлена новая командная игра $name",
                        "method": "push",
                        "value": {
                            "w": "{w}",
                            "name": "{name}",
                            "teams": "{teams}"
                        },
                        "args": {
                            "w": "#Number",
                            "name": "#String",
                            "teams": "#List"
                        }
                    },
                    {
                        "track": [
                            [
                                "w",
                                "===",
                                "{gamew}"
                            ]
                        ],
                        "args": {
                            "gamew": "#Number"
                        },
                        "cloneArgs": {
                            "areaw": "gamew",
                            "listw": "teamw"
                        },
                        "next": [
                            {
                                "track": [
                                    "teams"
                                ],
                                "next": [
                                    {
                                        "track": [
                                            [
                                                "w",
                                                "===",
                                                "{teamw}"
                                            ]
                                        ],
                                        "args": {
                                            "teamw": "#Number"
                                        },
                                        "next": [
                                            {
                                                "track": [
                                                    "comments"
                                                ],
                                                "expected": [],
                                                "next": [
                                                    {
                                                        "action": "addCommentToGameTeam",
                                                        "method": "push",
                                                        "value": {
                                                            "w": "{@setNewWid()}",
                                                            "comment": "{comment}",
                                                            "ts": "{ts}",
                                                            "fio": "{@userFio}",
                                                            "owner": "{@userLogin}"
                                                        },
                                                        "args": {
                                                            "comment": "#String",
                                                            "ts": "#Number"
                                                        }
                                                    }
                                                ]
                                            },
                                            {
                                                "track": [
                                                    "members"
                                                ],
                                                "args": {
                                                    "humanId": "#String"
                                                },
                                                "next": [
                                                    {
                                                        "action": "removeMemberFromTeam",
                                                        "method": "remove",
                                                        "level": 30,
                                                        "value": [
                                                            ".",
                                                            "===",
                                                            "{humanId}"
                                                        ]
                                                    },
                                                    {
                                                        "uniqs": [
                                                            "."
                                                        ],
                                                        "level": 30,
                                                        "action": "addMemberToTeam",
                                                        "method": "push",
                                                        "value": "{humanId}"
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "track": [
                                    "timers"
                                ],
                                "expected": [],
                                "next": [
                                    {
                                        "uniqs": [
                                            "w"
                                        ],
                                        "level": 20,
                                        "action": "addGameTimer",
                                        "title": "Добавлен новый таймер $name для игры $gamen",
                                        "method": "push",
                                        "value": {
                                            "w": "{w}",
                                            "name": "{name}",
                                            "mode": "{mode}",
                                            "joins": "{joins}",
                                            "start": "{start}",
                                            "starts": "{starts}",
                                            "teams": "{teams}",
                                            "finishes": "{finishes}"
                                        },
                                        "args": {
                                            "w": "#Number",
                                            "name": "#String",
                                            "mode": "#Number",
                                            "joins": "#number",
                                            "start": "#number",
                                            "starts": "#list",
                                            "teams": "#list",
                                            "finishes": "#Dict"
                                        }
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ]
    }
]